# sudot.net

ä½¿ç”¨ [Hexo](https://hexo.io) å°† md æ–‡ä»¶ç”Ÿæˆé™æ€é¡µé¢

ä½¿ç”¨ [Jerry Wong](https://github.com/jerryc127) ä¿®æ”¹çš„ä¸»é¢˜ [Butterfly](https://github.com/jerryc127/hexo-theme-butterfly)ï¼Œä½¿ç”¨æ–‡æ¡£å¾ˆå®Œæ•´å¾ˆè¯¦ç»†ï¼Œç‚¹å‡»[æŸ¥çœ‹ä½¿ç”¨æ–‡æ¡£](https://demo.jerryc.me/posts/21cfbf15/)

## æ„Ÿæƒ³

æœ¬æ¥æ˜¯æƒ³è‡ªå·±åšä¸€ä¸ª go è¯­è¨€åŸºäºè§£æ md æ–‡ä»¶æ¥ç”Ÿæˆé™æ€æ–‡ä»¶çš„åº”ç”¨ï¼Œä¹Ÿä»¥æ­¤æ¥å­¦ä¹ å’Œç»ƒä¹  go è¯­è¨€ï¼Œ  
ä½†æ˜¯ï¼š
1. å®¡ç¾èƒ½åŠ›å¤ªå¼±ï¼Œæ— æ³•åšå‡ºå¥½çœ‹çš„ä¸»é¢˜
2. åœ¨ä½¿ç”¨ flutter çš„è¿‡ç¨‹ä¸­å¶ç„¶çœ‹è§ä¸€ä¸ªåšå®¢ä½¿ç”¨ hexo å’Œä¸€æ¬¾ä¸»é¢˜æ­é…å¾ˆå¥½çœ‹ï¼Œåˆè®©æˆ‘æœ‰äº†ä½¿ç”¨ hexo æ¥éƒ¨ç½²çš„æƒ³æ³•
3. è‡ªå·±åšä¸€æ—¶åŠä¼šå„¿ä¹Ÿåšä¸å¥½ï¼Œæ—¢ç„¶ä¹Ÿæ˜¯åŸºäºè§£æ md æ–‡ä»¶ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œå’Œä¸å…ˆå®é™…çš„è¯•è¯• hexo å‘¢ï¼Œå°±æ˜¯æœ€åè¿˜æ˜¯è‡ªå·±åšï¼Œé‚£ä¹Ÿå¯ä»¥å€Ÿé‰´ hexo ä¼˜ç§€çš„åœ°æ–¹

äºæ˜¯ï¼Œæ­¤é¡¹ç›®ç”±æœ€åˆçš„ java æ›´æ”¹ä¸º goï¼Œç°åœ¨åˆæ›´æ”¹æˆ html äº†ã€‚ å“ˆå“ˆå“ˆğŸ˜„

## ç›®å½•ç»“æ„

```
sudot.github.io
â”œâ”€â”€.deploy_xxx           â”€â”€ ä½¿ç”¨ hexo deploy æ—¶æäº¤åˆ°å„æŒ‡å®šå¹³å°çš„ä¸´æ—¶ç›®å½•
â”œâ”€â”€node_modules          â”€â”€ npm ç®¡ç†çš„æœ¬é¡¹ç›®æ’ä»¶æˆ–å·¥å…·åœ¨æœ¬åœ°å­˜å‚¨çš„ç›®å½•
â”œâ”€â”€public                â”€â”€ ä½¿ç”¨ hexo generate ç¼–è¯‘ source ç›®å½•åç”Ÿæˆçš„å¯éƒ¨ç½²é™æ€æ–‡ä»¶
â”œâ”€â”€scaffolds             â”€â”€ æ–°å»ºæ–‡ç« æ—¶ä½¿ç”¨åˆ°çš„æ¨¡æ¿å­˜æ”¾ç›®å½•
â”œâ”€â”€scripts               â”€â”€ hexo æ‰©å±•è„šæœ¬
â”œâ”€â”€source                â”€â”€ èµ„æºç›®å½•ã€‚é™¤ _posts ç›®å½•ï¼Œå·²ä¸‹åˆ’çº¿(_)å¼€å§‹çš„çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹å’Œéšè—çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚Markdown å’Œ HTML æ–‡ä»¶ä¼šè¢«è§£æå¹¶æ”¾åˆ° public æ–‡ä»¶å¤¹ï¼Œè€Œå…¶ä»–æ–‡ä»¶ä¼šè¢«æ‹·è´è¿‡å»ã€‚
|   â”œâ”€â”€_data             â”€â”€ åœ¨æˆ‘è¿™ä¸ªç«™ç‚¹ä¸­ï¼Œä½¿ç”¨çš„ Butterfly ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ç›®å½•
|   â””â”€â”€_posts            â”€â”€ å­˜æ”¾åŸå§‹æ–‡ç« çš„ç›®å½•(hexoå®˜æ–¹å«å†™ä½œç›®å½•)ã€‚å³æ‰€æœ‰ä¹¦å†™çš„æ–‡ç« éƒ½åº”æ”¾åœ¨æ­¤ç›®å½•ä¸‹ã€‚
â”œâ”€â”€themes                â”€â”€ å­˜æ”¾æ¸²æŸ“ç«™ç‚¹çš„ä¸»é¢˜æ–‡ä»¶
â”œâ”€â”€_config.butterfly.yml â”€â”€ Butterfly ä¸»é¢˜çš„é…ç½®æ–‡ä»¶
â”œâ”€â”€_config.yml           â”€â”€ hexo çš„é…ç½®æ–‡ä»¶
â”œâ”€â”€.gitignore            â”€â”€ git å¯¹æ–‡ä»¶è·Ÿè¸ªè§„åˆ™çš„é…ç½®æ–‡ä»¶
â”œâ”€â”€db.json               â”€â”€ ä½¿ç”¨ hexo generate äº§ç”Ÿçš„ç¼“å­˜æ–‡ä»¶ï¼Œå®˜æ–¹å»ºè®®æ­¤æ–‡ä»¶åªå­˜äºæœ¬åœ°ï¼Œä½†å¦‚æœå†…ç½®å‚æ•° permalink ä½¿ç”¨äº† id å±æ€§ï¼Œæœ€å¥½æ˜¯éšé…ç½®æ–‡ä»¶ä¸€èµ·å¤‡ä»½æˆ–æäº¤ã€‚
â”œâ”€â”€LICENSE               â”€â”€ ä½¿ç”¨ hexo init xxx ç”Ÿæˆé¡¹ç›®æ—¶é»˜è®¤å‡ºç°çš„ï¼Œè¡¨ç¤º hexo-starter ï¼š https://github.com/hexojs/hexo-starter é¡¹ç›®çš„å¼€æºè®¸å¯åè®®
â”œâ”€â”€package-lock.json     â”€â”€ é¡¹ç›®ä¾èµ–å®é™…ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œnpmå®˜æ–¹å»ºè®®éšé¡¹ç›®æäº¤ï¼Œä½†æ˜¯Windowså¹³å°å’Œmacå¹³å°æ­¤æ–‡ä»¶ä¼šæœ‰ç»†å¾®å·®åˆ«ï¼Œæ‰€ä»¥æˆ‘ä¸ªäººæ˜¯ä¸æäº¤ã€‚
â”œâ”€â”€package.json          â”€â”€ npmä¾èµ–ç®¡ç†æ–‡ä»¶
â””â”€â”€README.md             â”€â”€ æœ¬é¡¹ç›®è¯´æ˜æ–‡ä»¶
```

## æ“ä½œæ­¥éª¤

1. å®‰è£… nodejs
    ä¸‹è½½åœ°å€ï¼šhttps://nodejs.org/zh-cn/download/  
    é…ç½®å›½å†…é•œåƒç”¨äºåŠ é€Ÿä¸‹è½½ä¾èµ–
  ```
npm config set registry https://registry.npm.taobao.org
npm config set disturl https://npm.taobao.org/dist
  ```

2. æ‹‰å–æ­¤é…ç½®ä»“åº“
  ```
git clone -b hexo git@github.com:sudot/sudot.net.git
  ```

3. æ‹‰å–ç¬”è®°ä»“åº“
  ```
git clone git@github.com:sudot/notes.git source/_posts
  ```

4. å®‰è£…é¡¹ç›®ä¾èµ–
  ```
npm install
  ```

5. åˆ›å»ºæ–‡ç« 

  å‘½ä»¤ï¼š```hero new <åç§°>```

  ç®€å†™ï¼š```hexo n <åç§°>```

6. æœ¬åœ°é¢„è§ˆ

  å‘½ä»¤ï¼š```hero server```

  ç®€å†™ï¼š```hexo s```

7. å‘å¸ƒ

  å‘½ä»¤ï¼š```hexo generate --deploy``` æˆ– ```hexo deploy --generate```

  ç®€å†™ï¼š```hexo g -d``` æˆ– ```hexo d -g```

## æ‰©å±•éƒ¨åˆ†

### æ‰©å±•æ–‡ç« å›¾ç‰‡æ”¯æŒæœ¬åœ°æ˜¾ç¤º

ä¿®æ”¹åŸå› : markdown å¤©ç„¶å¯¹å›¾ç‰‡çš„åµŒå…¥æ”¯æŒä¸å¥½ï¼Œå¯¼è‡´ç¼–è¾‘å™¨ä¸­å’Œ hexo éƒ¨ç½²åå›¾ç‰‡è·¯å¾„æ— æ³•ç»Ÿä¸€ï¼Œè€Œå•çº¯ä¿®æ”¹ hexo é…ç½®æ–‡ä»¶ `_config.yml` ä¸­ `post_asset_folder` ä¸º `true` ä¹Ÿèµ·ä¸åˆ°å¾ˆå¥½çš„ä½œç”¨ã€‚  
ç°è±¡å¦‚ä¸‹(æ–‡ç« çš„é¡¶éƒ¨å›¾ç‰‡æœªæ­£å¸¸åŠ è½½)ï¼š  
![æ–‡ç« çš„é¡¶éƒ¨å›¾ç‰‡æœªæ­£å¸¸åŠ è½½](images/replace-images-link-bad.png)

ä¿®æ”¹ç»“æœï¼šæœ¬åœ°é¢„è§ˆå’Œéƒ¨ç½²åå¯ä»¥ä½¿ç”¨ç›¸åŒçš„æœ¬åœ°å›¾ç‰‡èµ„æºã€‚ä¼˜åŒ–åçš„æ•ˆæœå¦‚ä¸‹ï¼š

![](images/replace-images-link-html.png)  
![](images/replace-images-link-good.png)  

ä¿®æ”¹æ–¹å¼ï¼š

1. ä¿®æ”¹ hexo é…ç½®æ–‡ä»¶ `_config.yml` ä¸­ `post_asset_folder` ä¸º `true`
    ```
   post_asset_folder: true
    ```
2. å¢åŠ è¿‡æ»¤è„šæœ¬ã€‚  
    åœ¨é¡¹ç›®æ ¹ç›®å½•`scripts`ä¸­ï¼Œæ–°å¢ `scripts\replace-images-link.js` è„šæœ¬ï¼Œç”¨äºè¿‡æ»¤ç¬¦åˆå­˜å‚¨è§„åˆ™çš„å›¾ç‰‡å¼•ç”¨è·¯å¾„ã€‚
    ```
    top_img: 'Javaå¼€å‘å…¥å‘å‰ç«¯æŒ‡å—/20191125203657.png'
    cover: 'Javaå¼€å‘å…¥å‘å‰ç«¯æŒ‡å—/20191125203657.png'
    ![WorldWideWeb æ¨¡æ‹Ÿç•Œé¢](Javaå¼€å‘å…¥å‘å‰ç«¯æŒ‡å—/1574242158505.png)
    ```
   æ›¿æ¢ä¸º
    ```
   top_img: '/p/xxx/20191125203657.png'
   cover: '/p/xxx/20191125203657.png'
   ![WorldWideWeb æ¨¡æ‹Ÿç•Œé¢](/p/xxx/1574242158505.png)
    ```
   
3. æŒ‰å¦‚ä¸‹è®¾ç½®æ–¹å¼è®¾ç½® typora çš„å›¾ç‰‡å¼•ç”¨
  ![](images/typora-images-setting.png)  
  ![](images/replace-images-link-good.png)  
